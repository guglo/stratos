<div class="kubernetes-node-add-label-step">
  <mat-tab-group 
    (selectedIndexChange)="onTabChange($event)">
    <mat-tab label="Select Existing Label">
      <div class="kubernetes-node-add-label-step__tabcontent">
        <ng-template matTabContent>
            <span *ngIf="!existingLabels || !existingLabels.length">None</span>
            <mat-selection-list #labels 
              [(ngModel)]="selectedLabels"
              (selectionChange)="onLabelSelectionChange($event)">
              <mat-list-option
                checkboxPosition="before"
                *ngFor="let label of existingLabels" [value]="label">
                {{label}}
              </mat-list-option>
            </mat-selection-list>
        </ng-template>
      </div>
    </mat-tab>
    <mat-tab label="Create New Label">
      <div class="kubernetes-node-add-label-step__tabcontent">
        <ng-template matTabContent>
          <form #form="ngForm" class="stepper-form">
              <mat-form-field>
                <input  matInput  [formControl]="labelKeyControl" [errorStateMatcher]="matcher"
                  placeholder="key"  (ngModelChange)="onLabelKeyChange()" [(ngModel)]="labelKey" name="labelKey" required>
                <mat-error *ngIf="labelKeyControl.hasError('email') && !labelKeyControl.hasError('required')">
                  Please enter a valid label key
                </mat-error>
                <mat-error *ngIf="labelKeyControl.hasError('required')">
                  Key is <strong>required</strong>
                </mat-error>  
              </mat-form-field>
              <mat-form-field>
                <input  matInput  [formControl]="labelValueControl" [errorStateMatcher]="matcher"
                  placeholder="value" (ngModelChange)="onLabelValueChange()"  [(ngModel)]="labelValue" name="labelValue" required>
                <mat-error *ngIf="labelValueControl.hasError('email') && !labelValueControl.hasError('required')">
                  Please enter a valid label value
                </mat-error>
                <mat-error *ngIf="labelValueControl.hasError('required')">
                  Value is <strong>required</strong>
                </mat-error>  
              </mat-form-field>
          </form>
        </ng-template>
      </div>
    </mat-tab>
  </mat-tab-group>
  <button  class="kubernetes-node-add-label-step__button" mat-raised-button [disabled]="disableAddButton"
    (click)="addConfirmDialog()"  color="primary">Add</button>
</div>